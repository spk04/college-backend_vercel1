<!DOCTYPE html>
<html>
<head>
  <title>College Student Portal</title>
</head>
<body>

<h2>Student Registration</h2>
<input id="name" placeholder="Name"><br>
<input id="regUser" placeholder="Username"><br>
<input id="regPass" type="password" placeholder="Password"><br>
<input id="branch" placeholder="Branch"><br>
<input id="year" type="number" placeholder="Year"><br>
<input id="cgpa" type="number" step="0.01" placeholder="CGPA"><br>
<button onclick="register()">Register</button>


<h2>Student Login</h2>
<input id="logUser" placeholder="Username">
<input id="logPass" placeholder="Password" type="password">
<button onclick="login()">Login</button>

<p id="result"></p>

<script>
const baseUrl = "https://college-backend-api-g4c2hmbkaub0huh8.centralindia-01.azurewebsites.net";

async function register() {
  const res = await fetch(baseUrl + "/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      name: name.value,
      username: regUser.value,
      password: regPass.value,
      branch: branch.value,
      year: Number(year.value),
      cgpa: Number(cgpa.value)
    })
  });
  result.innerText = await res.text();
}

<!--
    
async function login() {
  const res = await fetch(baseUrl + "/login", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      username: logUser.value,
      password: logPass.value
    })
  });
  result.innerText = await res.text();
}
-->

async function fetchStudentDetails(username) {
  const res = await fetch(baseUrl + "/students/" + username);
  const data = await res.json();

  result.innerHTML = `
    <h3>Student Profile</h3>
    <p><b>Name:</b> ${data.name}</p>
    <p><b>Username:</b> ${data.username}</p>
    <p><b>Branch:</b> ${data.branch}</p>
    <p><b>Year:</b> ${data.year}</p>
    <p><b>CGPA:</b> ${data.cgpa}</p>
  `;
}

</script>

</body>
</html>
